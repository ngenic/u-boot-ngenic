# This file is intended to allow flashing of the eMMC memory on the
# SoM via USB Mass Storage Gadget, not for general usage.

CONFIG_SYS_EXTRA_OPTIONS="IMX_CONFIG=board/myir/myd_y6ull/imximage.cfg,SYS_BOOT_EMMC,SYS_DDR_SIZE=512"
CONFIG_ARM=y
CONFIG_ARCH_MX6=y
CONFIG_TARGET_MYD_Y6ULL_14X14=y
CONFIG_CMD_GPIO=y

# Added by Ngenic
CONFIG_SYS_TEXT_BASE=0x87800000
CONFIG_SUPPORT_RAW_INITRD=y
CONFIG_DEFAULT_FDT_FILE="ngenic-bohr.dtb"
CONFIG_BOARD_EARLY_INIT_F=y
CONFIG_HUSH_PARSER=y
CONFIG_CMD_BOOTZ=y
CONFIG_CMD_MEMTEST=y
# CONFIG_CMD_FLASH is not set
CONFIG_CMD_GPT=y
CONFIG_CMD_MMC=y
CONFIG_CMD_PART=y
CONFIG_CMD_CACHE=y
CONFIG_CMD_EXT2=y
CONFIG_CMD_FAT=y
CONFIG_CMD_FS_GENERIC=y
CONFIG_FSL_ESDHC=y
CONFIG_USB=y
CONFIG_CI_UDC=y
CONFIG_OF_LIBFDT=y
CONFIG_SUPPORT_EMMC_BOOT=y

# Bootbomb
CONFIG_MMC_VERBOSE=y
CONFIG_USB_GADGET=y
CONFIG_USB_GADGET_DOWNLOAD=y
CONFIG_USB_FUNCTION_MASS_STORAGE=y
CONFIG_CMD_USB_MASS_STORAGE=y

# Expose eMMC via USB Gadget on boot
CONFIG_USE_BOOTCOMMAND=y
CONFIG_BOOTCOMMAND="mmc dev ${mmcdev}; mmc partconf ${mmcdev} 1 7 0; ums 0 mmc 0"
